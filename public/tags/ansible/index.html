<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Minimalist Programmer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Kevin Guay, Kevin, Guay, Kevin C Guay, minimalist, minimalist programmer, programmer, minimalistprogrammer, blog, minimalistblog, programmerblog, software development, software engineering, programming, it, information technology, maine, brunswick, boothbay, computing, resume, bio, personal, contact, Bigelow, Bigelow Laboratory for Ocean Science"/>
    <meta name="description" content="The Minimalist Programmer is a blog covering dev-ops, software engineering, programming, IT, and more by Kevin Guay"/>
    <meta name="author" content="Kevin Guay"/>
    
    <link rel="stylesheet" href="/css/bootstrap.css" media="screen">
    
    <link rel="stylesheet" href="/css/shoelace.css" type="text/css" media="screen"/>
    
    
    <link rel="stylesheet" href="/css/prism.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="/css/main.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,600,700"/>
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109988049-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-109988049-1');
    </script>
    
  </head>
  <body id="index">
    <nav class="navbar navbar-default">
  <div class="container">
    <div class="hidden-xs">
      <div class="menu pull-right">
        <a href="/about/">about</a>
        <a href="/blog/">blog</a>
      </div>
      <a href="/">
        <div class="title">
          <span style="font-weight:600;padding-right:3px;">minimalist</span>programmer
        </div>
      </a>
    </div>
    <div class="visible-xs">
      <center style="margin-top:10px;">
        <div class="menu pull-right">
          <a href="/about/" style="margin-right:15px;margin-left:15px;">about</a>
          <a href="/blog/" style="margin-right:15px;margin-left:15px;">blog</a>
        </div>
        <a href="/" class="pull-left">
          <div class="title"><span style="font-weight:600;padding-right:3px;">minimalist</span>programmer 
          </div>
        </a>
      </center>
    </div>
  </div>
  <div class="container-fluid">
    <hr class="top"/>
  </div>
</nav>
    <div class="main">
      <div id="main-container" class="container">
        
      
       
<div class="container">
  <div class="row">
    <div class="col-sm-8 col-sm-push-4">
      
      <h1 class="news-title">Ansible OS Distribution and Version</h1>
      <div class="date">Published on <span class="date-format">December 26, 2017</span> by Kevin Guay</div>
      <ul class="hor-list">
        <li>&nbsp;Server</li>
      </ul>
      <div class="addthis_inline_share_toolbox"></div>
          
      

<h2 id="the-gist">The Gist</h2>

<p>Ansible has built-in &ldquo;facts&rdquo; about your hosts that make it easy to find basic information such as hostname, operating system, IP address. This is great for debugging or inventorying systems, however OS version is not included and it was surprisingly difficult to find a way to print this information out. I understand that Ansible is OS-independant (and hence OS-version-independant), however, it can be useful to know which servers are running CentOS/RH 6 vs 7.</p>

<p>The following playbook prints out the OS name and version using the contents of /etc/system-release. This file works for all Fedora deriviatives (e.g. CentOS and Red Hat), but you might run into trouble if you run it on another distro.</p>

<pre><code>- name: Print linux distribution and version
  hosts: all
  tasks:
    - name: capture output of id command
      command: cat /etc/system-release
      register: login
    - debug: msg=&quot;{{ login.stdout }}&quot;
</code></pre>

          
      <br/>
<div id="disqus_thread"></div>
<script>
  

  

  (function() { 
  var d = document, s = d.createElement('script');
  s.src = 'https://kevinguay.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<script id="dsq-count-scr" src="//kevinguay.disqus.com/count.js" async=""></script>
      
    </div>
        
        
    <div class="col-sm-4 col-sm-pull-8" style="padding-left:0;">
          
      <div style="margin-top:-5px;margin-bottom:19px" class="title">
  <span style="font-weight:600;padding-right:3px">recent</span>posts
  <a href="/blog/index.xml"><img src="/images/logo/rss-444.svg" style="height:20px; margin-left:4px; margin-bottom:3px"></a>
</div>


<div>
  <div style="margin-bottom:0"><a href="https://www.minimalistprogrammer.io/blog/hugo-html-in-content/">Hugo: HTML code in content files</a></div>
  <div style="margin-top:0;font-size:0.9em" class="date date-format">January 18, 2018</div>
</div>

<div>
  <div style="margin-bottom:0"><a href="https://www.minimalistprogrammer.io/blog/ansible-os-version/">Ansible OS Distribution and Version</a></div>
  <div style="margin-top:0;font-size:0.9em" class="date date-format">December 26, 2017</div>
</div>

<div>
  <div style="margin-bottom:0"><a href="https://www.minimalistprogrammer.io/blog/mounting-cifs-in-centos-7/">Mounting CIFS in CentOS 7</a></div>
  <div style="margin-top:0;font-size:0.9em" class="date date-format">November 20, 2017</div>
</div>

<div>
  <div style="margin-bottom:0"><a href="https://www.minimalistprogrammer.io/blog/setup-ansible-with-ansible/">Setting Up Ansible with Ansible</a></div>
  <div style="margin-top:0;font-size:0.9em" class="date date-format">October 31, 2017</div>
</div>

<div>
  <div style="margin-bottom:0"><a href="https://www.minimalistprogrammer.io/blog/favorite-open-source-projects/">Favorite Open Source Projects</a></div>
  <div style="margin-top:0;font-size:0.9em" class="date date-format">October 30, 2017</div>
</div>

<div>
  <div style="margin-bottom:0"><a href="https://www.minimalistprogrammer.io/blog/new-website-and-blog/">New Website and Blog</a></div>
  <div style="margin-top:0;font-size:0.9em" class="date date-format">October 15, 2017</div>
</div>

    </div>

  </div>
     
            </div>
        </div>
        
        <footer class="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-4 hidden-xs">
        <div style="color:white;font-size:6em;margin-top:0;" class="title"><span style="font-weight:600;padding-right:3px;">m</span>p</div>
      </div>
      <div class="col-sm-4 col-md-2">
        <div style="color:white;font-size:6em;margin-top:0;" class="title visible-xs pull-right"><span style="font-weight:600;padding-right:3px;">m</span>p</div>
        <div class="heading white">Find Me</div>
        <ul class="no-bull left">
          <li> <a href="https://github.com/kguay" target="_blank">GitHub</a></li>
          <li> <a href="https://www.linkedin.com/in/kevincguay/" target="_blank">LinkedIn</a></li>
          <li> <a href="https://www.researchgate.net/profile/Kevin_Guay" target="_blank">ResearchGate</a></li>
        </ul>
      </div>
      <div class="col-sm-4 col-md-3">
        <div class="heading white">Websites</div>
        <ul class="no-bull left">
          <li> <a href="https://www.finewoodworkingindex.com" target="_blank">Fine Woodworking Index</a></li>
          
          <li> <a href="/about/resume">Resume</a></li>
        </ul>
      </div>
      <div class="col-sm-4 col-md-3">
        <form style="padding:3px;text-align:left;" action="https://tinyletter.com/minimalist-programmer" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/minimalist-programmer', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
          <div class="heading white">Subscribe <span class="hidden-sm">to blog<a href="/feed.xml"><img src="/images/logo/rss-white.svg" style="height:20px; margin-left:10px; margin-bottom:10px;"/></a></span></div>
          <p>
            <input id="tlemail" type="text" style="width:200px; height:30px; font-size:0.8em; color:#407EB4; font-weight:bold;" name="email" class="form-control"/>
          </p>
          <input type="hidden" value="1" name="embed"/>
          <input type="submit" value="Subscribe" style="color:#407EB4; font-size:0.9em; padding:3px 6px; font-weight:bold; margin-left:116px;" class="btn btn-sm btn-secondary btn-blue"/>
        </form><br class="visible-xs"/>
      </div>
    </div>
  </div>
</footer>
        
        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="/js/bootstrap.min.js"></script>
        
        
        
        <script src="/js/color.js" type="text/javascript"></script>
        <script src="/js/prism.js" type="text/javascript"></script>
        
        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-59ef333e58b3b003"></script>
    </body>
</html>


