<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.81.0" />

  <title>Red Hat 7 install and the UEFI shell &middot; Kevin Guay</title>

  <meta name="description" content="Manually booting with Red Hat and UEFI shell" />

  

<meta itemprop="name" content="Red Hat 7 install and the UEFI shell">
<meta itemprop="description" content="Manually booting with Red Hat and UEFI shell"><meta itemprop="datePublished" content="2018-12-09T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-12-09T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="490">
<meta itemprop="keywords" content="Servers," />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Red Hat 7 install and the UEFI shell"/>
<meta name="twitter:description" content="Manually booting with Red Hat and UEFI shell"/>


<meta property="og:title" content="Red Hat 7 install and the UEFI shell" />
<meta property="og:description" content="Manually booting with Red Hat and UEFI shell" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.kevinguay.com/posts/uefi-shell/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-12-09T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2018-12-09T00:00:00&#43;00:00" />




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type":"Person",
      "@id": "https://www.kevinguay.com/#author",
      "name": "Kevin Guay",
      "image": {
        "@type":"ImageObject",
        
        "url": "https://www.kevinguay.com/images/profile.png"
        
      },
      "description": "tech / dev / security"
    },
    {
      "@type": "WebSite",
      "@id": "https://www.kevinguay.com/#website",
      "url": "https://www.kevinguay.com/",
      "name": "Kevin Guay",
      "description": "tech / dev / security",
      "publisher": {
        "@id": "https://www.kevinguay.com/#author"
      },
      "inLanguage": "en-us"
    },
    {
      "@type": "WebPage",
      "@id": "https://www.kevinguay.com/posts/uefi-shell/#webpage",
      "url": "https://www.kevinguay.com/posts/uefi-shell/",
      "name": "Red Hat 7 install and the UEFI shell",
      "isPartOf": {
        "@id": "https://www.kevinguay.com/#website"
      },
      "about": {
         "@id": "https://www.kevinguay.com/#author"
      },
      "datePublished": "2018-12-09T00:00:00+00:00",
      "dateModified": "2018-12-09T00:00:00+00:00",
      "description": "Manually booting with Red Hat and UEFI shell",
      "inLanguage": "en-us",
      "potentialAction": [
        {
          "@type": "ReadAction",
          "target": [
            "https://www.kevinguay.com/posts/uefi-shell/"
          ]
        }
      ]
    },
    {
      "@type": "Article",
      "isPartOf": {
        "@id": "https://www.kevinguay.com/posts/uefi-shell/#webpage"
      },
      "mainEntityOfPage": {
        "@id": "https://www.kevinguay.com/posts/uefi-shell/#webpage"
      },
      "headline": "Red Hat 7 install and the UEFI shell",
      "datePublished": "2018-12-09T00:00:00+00:00",
      "dateModified": "2018-12-09T00:00:00+00:00",
      "publisher": {
        "@id": "https://www.kevinguay.com/#author"
      },
      "keywords": [
        "Servers"
      ],
      "articleSection": [
      ],
      "inLanguage": "en-us",
      "author": {
        "@type": "Person",
        "name":  null 
      },
      "potentialAction": [
        {
          "@type": "CommentAction",
          "name": "Comment",
          "target": [
            "https://www.kevinguay.com/posts/uefi-shell/#comments"
          ]
        }
      ]
    }
  ]
}
</script>




  <link type="text/css"
        rel="stylesheet"
        href="/css/print.css"
        media="print">

  <link type="text/css"
        rel="stylesheet"
        href="/css/poole.css">

  <link type="text/css"
        rel="stylesheet"
        href="/css/hyde.css">

  
<style type="text/css">
  .sidebar {
    background-color: #3563A0;
  }

  .read-more-link a {
    border-color: #3563A0;
  }

  .read-more-link a:hover {
    background-color: #3563A0;
  }

  .pagination li a {
    color: #3563A0;
    border: 1px solid #3563A0;
  }

  .pagination li.active a {
    background-color: #3563A0;
  }

  .pagination li a:hover {
    background-color: #3563A0;
    opacity: 0.75;
  }

  footer a,
  .content a,
  .related-posts li a:hover {
    color: #3563A0;
  }
</style>



  <link type="text/css" rel="stylesheet" href="/css/main.css">

  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
        integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
        crossorigin="anonymous" />

  <link rel="apple-touch-icon-precomposed"
        sizes="144x144"
        href="/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="/favicon.png">

  
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109988049-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-109988049-1');
  </script>
    
</head>
<body>
  <aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
        
        <div class="author-image">
          <a href="https://www.kevinguay.com/">
            <img src="/images/profile.png" class="img-circle img-headshot center" alt="Profile Picture">
          </a>
        </div>
        
      

      <h1><a href="/posts/uefi-shell/">Kevin Guay</a></h1>

      
      <p class="lead">tech / dev / security</p>
      
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li>
          <a href="https://www.kevinguay.com/">Home</a>
        </li>
        <li>
          <a href="/posts/">Posts</a>
        </li><li>
          <a href="/tags/">Tags</a>
        </li><li>
          <a href="/about/">About</a>
        </li><li>
          <a href="/consulting/">Consulting</a>
        </li><li>
          <a href="/resume/">Resume</a>
        </li>
      </ul>
    </nav>
    
    hello@kevinguay.com
    
    <section class="social-icons">
      
      <a href="https://www.linkedin.com/in/kevincguay/" rel="me" title="Linkedin" target="_blank">
        <i class="fab fa-linkedin" aria-hidden="true"></i>
      </a>
      
      <a href="https://github.com/kguay" rel="me" title="GitHub" target="_blank">
        <i class="fab fa-github" aria-hidden="true"></i>
      </a>
      
      <a href="https://twitter.com/kevincguay" rel="me" title="Twitter" target="_blank">
        <i class="fab fa-twitter" aria-hidden="true"></i>
      </a>
      
      <a href="https://instagram.com/kevin.c.guay" rel="me" title="Instagram" target="_blank">
        <i class="fab fa-instagram" aria-hidden="true"></i>
      </a>
      
    </section>
  </div>
</aside>


  <main class="content container">
  <div class="post">
  <h1 class="title">Red Hat 7 install and the UEFI shell</h1>
  

  <div class="post-date">
    <time datetime="2018-12-09T00:00:00Z">Dec 9, 2018</time> <span class="readtime">&middot; 3 min read</span>
  </div>

  
<div>
  <ul class="tags">
  <li>
    <a href="https://www.kevinguay.com/tags/servers/" class="tag-link">Servers</a>
  </li>
  </ul>
</div>



  <div>
  <h2 id="routine-upgrade">Routine upgrade</h2>
<!-- raw HTML omitted -->
<p>It was anything but. I had scheduled some maintenance time for an upgrade to our main HPC, which was still running RHEL 6. Because of the version discrepency, we had to implement work arounds for using, say, the latest version of gcc. It wasn&rsquo;t ideal to say the least. By this time I had moved all of our user&rsquo;s home directories to an NFS share, moved almost all applications to environmental modules, and started using Ansible for configuration, meaning that I could finally do a clean install of the new OS with minimal configuration on the other side.</p>
<p>I got in early that day to make use of the window and got to work. The install went fairly smooth, save the unresponsive screen from the Live DVD (which is a known issue with SGI UV systems). What wasn&rsquo;t a known issue is that the Boot Loader wasn&rsquo;t properly configured during install and when the system reboot, it stopped at a UEFI shell.</p>
<h2 id="the-shell">The shell</h2>
<p>I am not one to shy away from shells, indeed I prefer them over using a Linux GUI for most of my server admin, but this shell gave me pause. It wasn&rsquo;t the BASH shell that I expected, nor any varient that I had come to know (e.g. csh). It was the UEFI shell and the commands were extremely limited. I was prompted with a:</p>
<pre><code>Shell&gt;
</code></pre><p>Despite lots of Duck Duck Go-ing (is that a verb yet?), I was stuck. It turns out that I had to manually launch the grub boot loader, but I had no idea how. Slowly, through various support articles and Stack Overflow threads, I pieced together a solution that worked.</p>
<pre><code>Shell&gt; fs0:
fs0:\&gt; cd EFI\redhat
fs0:\&gt; grubx64.efi
</code></pre><h2 id="onward">Onward!</h2>
<p>This boot into RHEL and I was on my way. However, this additional step makes rebooting more difficult and when you are rebooting a 120 core and 1.5TB RAM HPC, your heartrate is  already higher than normal (if not only becuase of the heat coming off of the servers) and additional work is not ideal. I copied the /boot directory from another SGI UV machine running RHEL 7 and that seemed to work as a bandaid. I reached out to Red Hat and they gave me something to try, but I haven&rsquo;t had a chance, since it would require rebooting a production machine. Next time I have some dedicated downtime, I&rsquo;ll give it a try and update this post with the results.</p>
<p>For now, I have a working machine running RHEL 7 and humming (actually screaming; the fans never slow down) away in the basement. Once I got it to boot and installed the SGI-specific software, it was minimal effort to get everything running again. Most of it was done using Ansible, which saved tons of time and makes user additions and other changes reproducable for new nodes on the HPC cluster. Done for now - will update sometime in 2019.</p>

  </div>

  <hr>
  
  
    Previous: <a href="/posts/zoom-and-krisp/">Zoom and Krisp</a>
  
  <br>
  
    Next: <a href="/posts/making-resolutions-stick/">Making resolutions stick</a>
  
  
  <div class="share-buttons">
  <a class="twitter-share-button"
     href="#"
     title="Share on Twitter"
     data-url="https://www.kevinguay.com/posts/uefi-shell/"
     data-text="Red Hat 7 install and the UEFI shell"><i class="fab fa-twitter"></i></a>

  <a class="linkedin-share-button"
     href="#"
     title="Share on LinkedIn"
     data-url="https://www.kevinguay.com/posts/uefi-shell/"
     data-text="Red Hat 7 install and the UEFI shell"><i class="fab fa-linkedin-in"></i></a>

  <a class="facebook-share-button"
     href="#"
     title="Share on Facebook"
     data-url="https://www.kevinguay.com/posts/uefi-shell/"
     data-text="Red Hat 7 install and the UEFI shell"><i class="fab fa-facebook"></i></a>

  <a class="telegram-share-button"
     href="#"
     title="Share on Telegram"
     data-url="https://www.kevinguay.com/posts/uefi-shell/"
     data-text="Red Hat 7 install and the UEFI shell"><i class="fab fa-telegram"></i></a>

  <a class="pinterest-share-button"
     href="#"
     title="Share on Pinterest"
     data-url="https://www.kevinguay.com/posts/uefi-shell/"
     data-text="Red Hat 7 install and the UEFI shell"><i class="fab fa-pinterest"></i></a>
</div>


  
  

  
</div>
  </main>

  <footer>
  <div>
    <p>
      &copy; Kevin Guay 2021

      &middot; <a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank">CC BY-SA 4.0</a>

      
    </p>
  </div>
</footer>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
          integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0="
          crossorigin="anonymous"></script>


  <script src="/js/jquery.min.js"></script>
  <script src="/js/soho.js"></script>

  <script src="/js/blog.js"></script>

  
</body>
</html>
